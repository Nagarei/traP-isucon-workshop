# 遅くなる原因と、改善の基礎

- 遅くなる原因
    - 通信が多いと遅い
        - mysql,memcachedとの通信
    - 通信量が多いと遅い
        - 大容量ファイルとか
    - 処理が遅いと遅い
        - 良くないプログラム
        - 適切な役割分担
            - 静的ファイルに関してはNginxに任せる
- 解決法
    - N+1問題の解決
        - クエリがN+1発行されてしまう問題を解消
            - 例: なろう講習会, cityとcountryのdb
            - それぞれのcityがどの国に属しているかを見たい
            - cityを最初に取ってきて（クエリ1回）, それぞれのcityについてcountryから国情報を取ってくる（クエリN回）と、クエリがN+1回になってクソ遅くなる
            - JOINを使う
        - クエリを書き換えることで1回でデータを取得するように
    - キャッシュを正しく使う
        - 色んな所でキャッシュできるよ
        - 一度使ったものを再利用
            - なかなか変わらないものはサーバーで持っておくとか
            - 304(NotModified)をうまく利用するとか
            - DBでもできる
    - 各種設定の最適化
        - これだけで点数が2倍になったりします
        - カーネルパラメータ
            - 一度に捌けるアクセス数を変更したり

## 改善の基礎
ISUCONでは、主に「データーベース」と「アプリケーション」の改善をメインに行います。  
ここでの「アプリケーション」とは、要するにGo言語で書かれたプログラムのことを指します。  

他にもサーバーが3台あるのでサーバー3台分のリソースが上手く使えるように分散したり、静的ファイルはnginxで配信したりするなど、本当に様々な改善手法があります。

ISUCONは、様々なデベロッパーエクスペリエンス、つまり開発経験が力となる、総合格闘技なのです！